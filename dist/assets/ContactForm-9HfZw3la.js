import{r as e,j as a,m as s,A as l}from"./index-BE8Yb92W.js";import{o as t,s as i,l as o,a as r,b as n}from"./useEmail-D4Gqw_Pf.js";import{u as m}from"./useContactForm-0ZrS0EnV.js";import{f as c}from"./formatters-DwMsKl1K.js";const d=t({name:i().min(1,"Campo obrigatório"),lastname:i().min(1,"Campo obrigatório"),phone:i().min(14,"Telefone inválido").max(15,"Telefone inválido"),email:i().email("E-mail inválido"),company:i().optional(),website:i().url("URL inválida").optional().or(o("")),job_role:i().min(1,"Campo obrigatório"),solutions:i().min(1,"Campo obrigatório"),message:i().max(120,"Máximo de 120 caracteres").optional()}),x=[{id:"assessoria-juridica",value:"assessoria-juridica",label:"Assessoria Jurídica"},{id:"e-social",value:"esocial",label:"e-Social"},{id:"ergonomia",value:"ergonomia",label:"Ergonomia"},{id:"gestao-de-informacoes",value:"gestao-de-informacoes",label:"Gestão de Informações"},{id:"gestao-de-terceirizados",value:"gestao-de-terceirizados",label:"Gestão de Terceirizados"},{id:"medicina-do-trabalho",value:"medicina-do-trabalho",label:"Medicina do Trabalho"},{id:"seguranca-do-trabalho",value:"seguranca-do-trabalho",label:"Segurança do Trabalho"},{id:"servicos-in-company",value:"servicos-in-company",label:"Serviços In Company"},{id:"outros",value:"outros",label:"Outros"}],u=[{value:"compliance",label:"Compliance"},{value:"financeiro",label:"Financeiro"},{value:"juridico",label:"Jurídico"},{value:"manutencao",label:"Manutenção"},{value:"operacoes",label:"Operações"},{value:"rh",label:"RH"},{value:"seguranca",label:"Segurança"},{value:"outro",label:"Outro"}];function p({preSelectedSolution:t,pageSource:i="Home",onSuccess:o,successMessage:p="",className:h}){const{register:b,handleSubmit:g,formState:{errors:j},watch:f,reset:v,setValue:N}=r({resolver:n(d),mode:"onBlur",defaultValues:{solutions:t||"",name:"",lastname:"",phone:"",email:"",website:"",job_role:"",message:""}}),y=f("message")||"",{sendContactEmail:w,isLoading:S,isSuccess:k,isError:C,error:E,reset:_}=m({pageSource:i,onSuccess:()=>{v(),null==o||o()}});e.useEffect(()=>{t&&N("solutions",t)},[t,N]);return a.jsx("div",{id:"formulario-contato",children:a.jsx("div",{className:`py-24 px-4 md:px-0 bg-[linear-gradient(0deg,_#007A2B_0%,_#005B27_100%)] ${h||""}`,children:a.jsxs("div",{className:"max-w-[1128px] mx-auto flex flex-col md:flex-row items-center md:items-start justify-between gap-16",children:[a.jsxs(s.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},className:"max-w-lg text-white text-left w-full md:w-auto",children:[a.jsxs("button",{className:"bg-green-soft-300 text-green-accents-600 rounded-full shadow mx-auto md:mx-0 flex items-center gap-2 w-[134px] h-[28px] px-3 text-[10px]",style:{fontWeight:500,margin:0},children:[a.jsx("img",{src:"/about/message-square.svg",alt:"Mensagem",className:"w-3 h-3 text-green-600","aria-hidden":"true"}),a.jsx("span",{children:"FALE COM A EPSSO"})]}),a.jsx("h2",{className:"text-[32px] md:text-4xl mb-4 leading-tight mt-6",children:"Pronto para cuidar da saúde e segurança da sua empresa?"}),a.jsx("p",{className:"text-white text-opacity-90 text-[14px] leading-relaxed",children:"Preencha o formulário e um dos nossos especialistas entrará em contato com você. Juntos, encontraremos a melhor solução para a sua empresa."})]}),a.jsx(l,{mode:"wait",children:k?a.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white text-gray-800 w-full max-w-[456px] min-h-[765px] rounded-2xl shadow-lg p-[32px_24px] flex flex-col items-center justify-center text-center",children:[a.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:p}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Nossa equipe comercial retornará este contato em breve!"}),a.jsx("button",{onClick:()=>{v(),_()},className:"text-green-600 hover:text-green-700 underline text-sm font-medium cursor-pointer",children:"Enviar outra mensagem"})]},"success"):a.jsxs(s.form,{onSubmit:g(e=>{w(e)}),initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6,ease:"easeOut"},className:"bg-white text-gray-800 w-full max-w-[456px] min-h-[756px] rounded-2xl shadow-lg p-[32px_24px] flex flex-col justify-between overflow-y-auto relative",children:[S&&a.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm rounded-2xl flex items-center justify-center z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Enviando mensagem..."})]})}),C&&a.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-red-600 text-sm",children:(null==E?void 0:E.message)||"Erro ao enviar mensagem. Por favor, tente novamente."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-[16px]",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome"}),a.jsx("input",{type:"text",...b("name"),placeholder:"Seu Nome",className:"input w-full py-3 px-4 h-[48px]",disabled:S}),j.name&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sobrenome"}),a.jsx("input",{type:"text",...b("lastname"),placeholder:"Seu Sobrenome",className:"input w-full py-3 px-4 h-[48px]",disabled:S}),j.lastname&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.lastname.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone (WhatsApp)"}),a.jsx("input",{type:"tel",...b("phone"),placeholder:"(00) 00000-0000",className:"input w-full py-3 px-4 h-[48px]",maxLength:15,onChange:e=>{const a=c(e.target.value);N("phone",a)},disabled:S}),j.phone&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.phone.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"E‑mail corporativo"}),a.jsx("input",{type:"email",...b("email"),placeholder:"exemplo@seuemail.com.br",className:"input w-full py-3 px-4 h-[48px]",disabled:S}),j.email&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.email.message})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Site da empresa"}),a.jsx("input",{type:"url",...b("website"),placeholder:"https://www.site.com.br",className:"input w-full py-3 px-4 h-[48px]",disabled:S}),j.website&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.website.message})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Setor"}),a.jsxs("select",{...b("job_role"),className:"custom-select w-full h-[48px] px-4",disabled:S,children:[a.jsx("option",{value:"",children:"Selecione"}),u.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),j.job_role&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.job_role.message})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Estou procurando soluções em:"," "]}),a.jsxs("select",{...b("solutions"),className:"custom-select w-full h-[48px] px-4",disabled:S,children:[a.jsx("option",{value:"",children:"Selecione"}),x.map(e=>a.jsx("option",{value:e.value,children:e.label},e.id))]}),j.solutions&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.solutions.message})]}),a.jsxs("div",{className:"md:col-span-2 relative",children:[a.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Mensagem ",a.jsx("span",{className:"text-gray-500",children:"(opcional)"})]}),a.jsx("textarea",{rows:5,maxLength:120,...b("message"),placeholder:"Gostaria de nos informar mais algum detalhe?",className:"input resize-none w-full py-3 px-4 h-[121px]",disabled:S}),a.jsxs("div",{className:"absolute bottom-2 right-4 text-right text-xs text-gray-500",children:[y.length,"/120"]}),j.message&&a.jsx("span",{className:"text-red-500 text-xs mt-1",children:j.message.message})]})]}),a.jsx("button",{type:"submit",disabled:S,className:"bg-dark-green-300 hover:bg-green-700 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed rounded-full w-[169px] h-[48px] mx-auto mt-8 text-white transition",children:S?"Enviando...":"Solicitar Contato"})]},"form")})]})})})}export{p as C};
