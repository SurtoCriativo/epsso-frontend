import{r as k,j as e,m as o,A as C}from"./index-Rb_83lJ8.js";import{o as E,s as l,l as _,a as O,b as T}from"./useEmail-C7xhltIz.js";import{u as A}from"./useContactForm-b43E7oPf.js";import{f as L}from"./formatters-DEC8jTlI.js";const M=E({name:l().min(1,"Campo obrigatório"),lastname:l().min(1,"Campo obrigatório"),phone:l().min(14,"Telefone inválido").max(15,"Telefone inválido"),email:l().email("E-mail inválido"),company:l().optional(),website:l().url("URL inválida").optional().or(_("")),job_role:l().min(1,"Campo obrigatório"),solutions:l().min(1,"Campo obrigatório"),message:l().max(120,"Máximo de 120 caracteres").optional()}),F=[{id:"seguranca-do-trabalho",value:"seguranca-do-trabalho",label:"Segurança do Trabalho"},{id:"medicina-do-trabalho",value:"medicina-do-trabalho",label:"Medicina do Trabalho"},{id:"e-social",value:"esocial",label:"e-Social"},{id:"ergonomia",value:"ergonomia",label:"Ergonomia"},{id:"servicos-in-company",value:"servicos-in-company",label:"Serviços In Company"},{id:"assessoria-juridica",value:"assessoria-juridica",label:"Assessoria Jurídica"},{id:"gestao-de-informacoes",value:"gestao-de-informacoes",label:"Gestão de Informações"},{id:"gestao-de-terceirizados",value:"gestao-de-terceirizados",label:"Gestão de Terceirizados"},{id:"outros",value:"outros",label:"Outros"}],P=[{value:"rh",label:"RH"},{value:"seguranca",label:"Segurança"},{value:"financeiro",label:"Financeiro"},{value:"manutencao",label:"Manutenção"},{value:"operacoes",label:"Operações"},{value:"juridico",label:"Jurídico"},{value:"compliance",label:"Compliance"},{value:"outro",label:"Outro"}];function R({preSelectedSolution:n,pageSource:c="Home",onSuccess:d,successMessage:x="",className:u}){const{register:i,handleSubmit:p,formState:{errors:a},watch:h,reset:m,setValue:r}=O({resolver:T(M),mode:"onBlur",defaultValues:{solutions:n||"",name:"",lastname:"",phone:"",email:"",website:"",job_role:"",message:""}}),b=h("message")||"",{sendContactEmail:g,isLoading:s,isSuccess:j,isError:f,error:v,reset:N}=A({pageSource:c,onSuccess:()=>{m(),d?.()}});k.useEffect(()=>{n&&r("solutions",n)},[n,r]);const y=t=>{g(t)},w=()=>{m(),N()};return e.jsx("div",{className:`py-24 px-4 md:px-0 bg-[linear-gradient(0deg,_#007A2B_0%,_#005B27_100%)] ${u||""}`,children:e.jsxs("div",{className:"max-w-[1128px] mx-auto flex flex-col md:flex-row items-center md:items-start justify-between gap-16",children:[e.jsxs(o.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},className:"max-w-lg text-white text-left w-full md:w-auto",children:[e.jsxs("button",{className:"bg-green-soft-300 text-green-accents-600 rounded-full shadow mx-auto md:mx-0 flex items-center gap-2 w-[134px] h-[28px] px-3 text-[10px]",style:{fontWeight:500,margin:0},children:[e.jsx("img",{src:"/about/message-square.svg",alt:"Mensagem",className:"w-3 h-3 text-green-600","aria-hidden":"true"}),e.jsx("span",{children:"FALE COM A EPSSO"})]}),e.jsx("h2",{className:"text-[32px] md:text-4xl mb-4 leading-tight mt-6",children:"Pronto para cuidar da saúde e segurança da sua empresa?"}),e.jsx("p",{className:"text-white text-opacity-90 text-[14px] leading-relaxed",children:"Preencha o formulário e um dos nossos especialistas entrará em contato com você. Juntos, encontraremos a melhor solução para a sua empresa."})]}),e.jsx(C,{mode:"wait",children:j?e.jsxs(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white text-gray-800 w-full max-w-[456px] min-h-[765px] rounded-2xl shadow-lg p-[32px_24px] flex flex-col items-center justify-center text-center",children:[e.jsx(o.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:x}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Nossa equipe comercial retornará este contato em breve!"}),e.jsx("button",{onClick:w,className:"text-green-600 hover:text-green-700 underline text-sm font-medium cursor-pointer",children:"Enviar outra mensagem"})]},"success"):e.jsxs(o.form,{onSubmit:p(y),initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6,ease:"easeOut"},className:"bg-white text-gray-800 w-full max-w-[456px] min-h-[756px] rounded-2xl shadow-lg p-[32px_24px] flex flex-col justify-between overflow-y-auto relative",children:[s&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm rounded-2xl flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Enviando mensagem..."})]})}),f&&e.jsx(o.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:v?.message||"Erro ao enviar mensagem. Por favor, tente novamente."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-[16px]",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome"}),e.jsx("input",{type:"text",...i("name"),placeholder:"Seu Nome",className:"input w-full py-3 px-4 h-[48px]",disabled:s}),a.name&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sobrenome"}),e.jsx("input",{type:"text",...i("lastname"),placeholder:"Seu Sobrenome",className:"input w-full py-3 px-4 h-[48px]",disabled:s}),a.lastname&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.lastname.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone (WhatsApp)"}),e.jsx("input",{type:"tel",...i("phone"),placeholder:"(00) 00000-0000",className:"input w-full py-3 px-4 h-[48px]",maxLength:15,onChange:t=>{const S=L(t.target.value);r("phone",S)},disabled:s}),a.phone&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"E‑mail corporativo"}),e.jsx("input",{type:"email",...i("email"),placeholder:"exemplo@seuemail.com.br",className:"input w-full py-3 px-4 h-[48px]",disabled:s}),a.email&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.email.message})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Site da empresa"}),e.jsx("input",{type:"url",...i("website"),placeholder:"https://www.site.com.br",className:"input w-full py-3 px-4 h-[48px]",disabled:s}),a.website&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.website.message})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Setor"}),e.jsxs("select",{...i("job_role"),className:"custom-select w-full h-[48px] px-4",disabled:s,children:[e.jsx("option",{value:"",children:"Selecione"}),P.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),a.job_role&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.job_role.message})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Estou procurando soluções em:"," "]}),e.jsxs("select",{...i("solutions"),className:"custom-select w-full h-[48px] px-4",disabled:s,children:[e.jsx("option",{value:"",children:"Selecione"}),F.map(t=>e.jsx("option",{value:t.value,children:t.label},t.id))]}),a.solutions&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.solutions.message})]}),e.jsxs("div",{className:"md:col-span-2 relative",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Mensagem ",e.jsx("span",{className:"text-gray-500",children:"(opcional)"})]}),e.jsx("textarea",{rows:5,maxLength:120,...i("message"),placeholder:"Gostaria de nos informar mais algum detalhe?",className:"input resize-none w-full py-3 px-4 h-[121px]",disabled:s}),e.jsxs("div",{className:"absolute bottom-2 right-4 text-right text-xs text-gray-500",children:[b.length,"/120"]}),a.message&&e.jsx("span",{className:"text-red-500 text-xs mt-1",children:a.message.message})]})]}),e.jsx("button",{type:"submit",disabled:s,className:"bg-dark-green-300 hover:bg-green-700 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed rounded-full w-[169px] h-[48px] mx-auto mt-8 text-white transition",children:s?"Enviando...":"Solicitar Contato"})]},"form")})]})})}export{R as C};
